import day_02/parsing
import day_02/part_1/main
import gleam/list

pub fn example_ranges_test() {
  let cases = [
    #("11-22", 33),
    #("95-115", 99),
    #("998-1012", 1010),
    #("1188511880-1188511890", 1_188_511_885),
    #("222220-222224", 222_222),
    #("1698522-1698528", 0),
    #("446443-446449", 446_446),
    #("38593856-38593862", 38_593_859),
    #("565653-565659", 0),
    #("824824821-824824827", 0),
    #("2121212118-2121212124", 0),
  ]

  assert cases
    |> list.all(fn(p) {
      p.0 |> parsing.parse_range |> main.invalid_ids_from_range == p.1
    })
}

pub fn solve_test() {
  let input =
    "11-22,95-115,998-1012,1188511880-1188511890,222220-222224,1698522-1698528,446443-446449,38593856-38593862,565653-565659,824824821-824824827,2121212118-2121212124"

  assert main.solve(input) == 1_227_775_554
}
